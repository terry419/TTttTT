# 최종 스크립트 데이터 입/출력 명세서 (v8.0)

이 문서는 'v8.0 - 통합 인스펙터 아키텍처'를 기준으로, 각 스크립트가 어떤 데이터를 입력받고 출력하는지를 정의한 최종 기술 명세서입니다.

---

## A. 핵심 플랫폼, 인터페이스 및 신규 모듈 (11개)

| 스크립트 (부품) | 역할 | 입력 (참조/상속 받는 데이터) | 출력 (참조/상속 시키는 데이터) |
| :--- | :--- | :--- | :--- |
| **CardDataSO.cs** | **모듈러 플랫폼 (본품)** | `ScriptableObject` | `int projectileCount, spreadAngle, preloadCount, baseDamage;`<br>`List<ModuleEntry> modules;`<br>`FiringSpec GetFiringSpecs();` | 
| **ModuleEntry.cs** | 모듈 조립 슬롯 데이터 | `[System.Serializable]` | `ModuleType moduleType;`<br>`AssetReferenceT<IPlatformModule> effectReference;` | 
| **IPlatformModule.cs** | 모든 모듈의 인터페이스 | `interface` | `void Execute(EffectContext context);` | 
| **CardEffectSO.cs** | 모든 기능 모듈의 추상 부모 | `ScriptableObject`, `IPlatformModule` | `EffectTrigger trigger;`<br>`abstract void Execute(EffectContext context);` | 
| **ProjectileEffectSO.cs**| 투사체 특수 기능 모듈 | `CardEffectSO` | `int pierceCount, ricochetCount;`<br>`bool isTracking;`<br>`List<SequentialPayload> sequentialPayloads;` | 
| **AreaEffectSO.cs** | 광역 효과 모듈 | `CardEffectSO` | `GameObject effectPrefab;`<br>`float singleHitDamage, duration, damagePerTick;` | 
| **StatusEffectSO.cs** | 상태이상 부여 모듈 | `CardEffectSO` | `StatusEffectDataSO statusToApply;` | 
| **RandomEffectSO.cs** | 랜덤 실행 논리 모듈 | `CardEffectSO` | `List<AssetReferenceT<CardEffectSO>> effectPool;` | 
| **ConditionalEffectSO.cs**| 조건부 실행 논리 모듈 | `CardEffectSO` | `EffectTrigger condition;`<br>`AssetReferenceT<CardEffectSO> effectToTrigger;` | 
| **EffectContext.cs** | 데이터 전달 객체 | `class` | `Caster, Target, SpawnPosition, HitPosition, DamageDealt, FiringDirections, CurrentBounceCount, IsCritical, IsKill` | 
| **FiringSpec.cs** | 발사 사양 데이터 | `struct` | `int projectileCount, float spreadAngle, float baseDamage, AssetReferenceGameObject bulletPrefabRef, ...` | 


---

## B. 시스템 및 게임 객체 (9개)

| 스크립트 (부품) | 역할 | 입력 (참조/상속 받는 데이터) | 출력 (참조/상속 시키는 데이터) |
| :--- | :--- | :--- | :--- |
| **CardDataSOEditor.cs** | **통합 인스펙터** | `UnityEditor.Editor`<br>`CardDataSO target` | (인스펙터 UI 렌더링) | 
| **GameManager.cs** | 게임 총괄 및 프리로더 | `List<CardDataSO> ownedCards` (from `CardManager`) | `poolManager.Preload(prefab, card.preloadCount);` | 
| **DataManager.cs** | 모든 데이터 로더 | Addressables의 `"data_effect"` 레이블 | `IPlatformModule` (비동기) | 
| **EffectExecutor.cs** | 효과 실행 지휘자 | `CardDataSO cardData` (from `PlayerController`)<br>`cardData.GetFiringSpecs()`<br>`cardData.modules` | `bullet.Initialize(firingSpec, ...)`<br>`module.Execute(context)` | 
| **BulletController.cs** | 지능형 투사체 | `FiringSpec spec` (from `EffectExecutor`)<br>`List<SequentialPayload> payloads`<br>`MonsterController monster` (충돌 시) | `monster.TakeDamage(finalDamage);`<br>`vfxManager.PlayVFX(key, pos);`<br>`executor.ExecutePayload(...)`<br>`bool RegisterHitByShot(shotID)` | 
| **MonsterController.cs**| 피격 담당 | `float damage` (from `BulletController`)<br>`string shotID` (from `BulletController`) | `OnMonsterKilled` 이벤트 | 
| **PlayerController.cs**| 플레이어 조작 및 공격 | `Input`<br>`CardManager.GetActiveCard()` | `executor.Execute(card, stats, position);` | 
| **VFXManager.cs** | VFX 재생 관리자 | `string vfxKey`, `Vector3 position` | (없음. 최종 실행만 담당) | 
| **PoolManager.cs** | 오브젝트 풀링 관리자 | `GameObject prefab`, `int count` | `GameObject` 인스턴스 | 
